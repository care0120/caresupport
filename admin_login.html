<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>LINEログインページ</title>
  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
</head>
<body>
  <h2>ログインしてください</h2>
  <button onclick="login()">LINEでログイン</button>

  <script>
    function login() {
      liff.init({
        liffId: "1657254156-85059NlX"
      }).then(() => {
        if (!liff.isLoggedIn()) {
          liff.login(); // ログインしてない場合はログイン画面へ
        } else {
          liff.getProfile().then(profile => {
            alert("こんにちは、" + profile.displayName + " さん！");
            // 誰でも admin.html に遷移
            window.location.href = "admin.html";
          });
        }
      }).catch(err => {
        console.error("LIFF初期化失敗:", err);
        alert("エラーが発生しました。");
      });
    }
  </script>
</body>
</html>
